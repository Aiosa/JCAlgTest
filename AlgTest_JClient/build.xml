<?xml version="1.0" encoding="UTF-8"?>
<project name="AlgTestJClient" default="default" basedir=".">
    <description>Builds, tests, and runs the project AlgTestJClient.</description>
    <import file="nbproject/build-impl.xml"/>



    <property name="libs.dir" value="../libs"/>
    <path id="classpath">
        <fileset dir="${libs.dir}" includes="**/*.jar"/>
    </path>

    <target name="run" depends="jar">
        <java fork="true" classname="${main-class}">
            <classpath>
                <path refid="classpath"/>
                <path location="${jar.dir}/${ant.project.name}.jar"/>
            </classpath>
        </java>
    </target>


          <target name="-post-jar">
	     <!-- Copy newly build jar into test directory for simulator of smart cards-->
             <copy file="${basedir}/dist/AlgTestJClient.jar" tofile="${basedir}/test/AlgTestJClient.jar"/>

             <!-- Copy files necessary for compilation of JC applet-->
             <copy file="${basedir}/src/algtest/AlgTestSinglePerApdu.java" tofile="../AlgTest_JavaCard/src/AlgTest/AlgTestSinglePerApdu.java"/>
             <copy file="${basedir}/src/algtest/Consts.java" tofile="../AlgTest_JavaCard/src/AlgTest/Consts.java"/>
             <copy file="${basedir}/src/algtest/JCConsts.java" tofile="../AlgTest_JavaCard/src/AlgTest/JCConsts.java"/>
             <copy file="${basedir}/src/algtest/TestSettings.java" tofile="../AlgTest_JavaCard/src/AlgTest/TestSettings.java"/>
          </target>

</project>
